
import { posix as path } from 'path';

export default {
	write( theme, document ) {
		// document.write( `<p>app-themer/write: ${ theme }</p>` );

		var themeSettings = this.themes[ theme ];

		if( ! themeSettings ) {
			throw new Error( `"${ theme } is not a valid theme.` );
		}

		this.writeStyleLinks( document, themeSettings );
	},

	writeStyleLinks( document, themeSettings ) {
		var base = themeSettings.base;

		themeSettings.styles.forEach( styleFile => {
			let styleFilePath = path.join( base, styleFile );
			document.write( `<link rel="stylesheet" href="${ styleFilePath }" />` );
		});
	},

	themes: {
		'default': {
			base: `${ __dirname }/themes`,

			styles: [
				`default/theme.css`
			]
		}
	}
}
